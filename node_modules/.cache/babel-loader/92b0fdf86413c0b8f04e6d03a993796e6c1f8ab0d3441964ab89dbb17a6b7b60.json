{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.handleBlur = handleBlur;\nexports.handleFocus = handleFocus;\nexports.markForFocusLater = markForFocusLater;\nexports.returnFocus = returnFocus;\nexports.popWithoutFocus = popWithoutFocus;\nexports.setupScopedFocus = setupScopedFocus;\nexports.teardownScopedFocus = teardownScopedFocus;\nvar _tabbable = require(\"../helpers/tabbable\");\nvar _tabbable2 = _interopRequireDefault(_tabbable);\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\nvar focusLaterElements = [];\nvar modalElement = null;\nvar needToFocus = false;\nfunction handleBlur() {\n  needToFocus = true;\n}\nfunction handleFocus() {\n  if (needToFocus) {\n    needToFocus = false;\n    if (!modalElement) {\n      return;\n    }\n    // need to see how jQuery shims document.on('focusin') so we don't need the\n    // setTimeout, firefox doesn't support focusin, if it did, we could focus\n    // the element outside of a setTimeout. Side-effect of this implementation\n    // is that the document.body gets focus, and then we focus our element right\n    // after, seems fine.\n    setTimeout(function () {\n      if (modalElement.contains(document.activeElement)) {\n        return;\n      }\n      var el = (0, _tabbable2.default)(modalElement)[0] || modalElement;\n      el.focus();\n    }, 0);\n  }\n}\nfunction markForFocusLater() {\n  focusLaterElements.push(document.activeElement);\n}\n\n/* eslint-disable no-console */\nfunction returnFocus() {\n  var preventScroll = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n  var toFocus = null;\n  try {\n    if (focusLaterElements.length !== 0) {\n      toFocus = focusLaterElements.pop();\n      toFocus.focus({\n        preventScroll: preventScroll\n      });\n    }\n    return;\n  } catch (e) {\n    console.warn([\"You tried to return focus to\", toFocus, \"but it is not in the DOM anymore\"].join(\" \"));\n  }\n}\n/* eslint-enable no-console */\n\nfunction popWithoutFocus() {\n  focusLaterElements.length > 0 && focusLaterElements.pop();\n}\nfunction setupScopedFocus(element) {\n  modalElement = element;\n  if (window.addEventListener) {\n    window.addEventListener(\"blur\", handleBlur, false);\n    document.addEventListener(\"focus\", handleFocus, true);\n  } else {\n    window.attachEvent(\"onBlur\", handleBlur);\n    document.attachEvent(\"onFocus\", handleFocus);\n  }\n}\nfunction teardownScopedFocus() {\n  modalElement = null;\n  if (window.addEventListener) {\n    window.removeEventListener(\"blur\", handleBlur);\n    document.removeEventListener(\"focus\", handleFocus);\n  } else {\n    window.detachEvent(\"onBlur\", handleBlur);\n    document.detachEvent(\"onFocus\", handleFocus);\n  }\n}","map":{"version":3,"names":["Object","defineProperty","exports","value","handleBlur","handleFocus","markForFocusLater","returnFocus","popWithoutFocus","setupScopedFocus","teardownScopedFocus","_tabbable","require","_tabbable2","_interopRequireDefault","obj","__esModule","default","focusLaterElements","modalElement","needToFocus","setTimeout","contains","document","activeElement","el","focus","push","preventScroll","arguments","length","undefined","toFocus","pop","e","console","warn","join","element","window","addEventListener","attachEvent","removeEventListener","detachEvent"],"sources":["E:/Learning/IITB/FSD/React/Project/BookMovieApp/node_modules/react-modal/lib/helpers/focusManager.js"],"sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.handleBlur = handleBlur;\nexports.handleFocus = handleFocus;\nexports.markForFocusLater = markForFocusLater;\nexports.returnFocus = returnFocus;\nexports.popWithoutFocus = popWithoutFocus;\nexports.setupScopedFocus = setupScopedFocus;\nexports.teardownScopedFocus = teardownScopedFocus;\n\nvar _tabbable = require(\"../helpers/tabbable\");\n\nvar _tabbable2 = _interopRequireDefault(_tabbable);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar focusLaterElements = [];\nvar modalElement = null;\nvar needToFocus = false;\n\nfunction handleBlur() {\n  needToFocus = true;\n}\n\nfunction handleFocus() {\n  if (needToFocus) {\n    needToFocus = false;\n    if (!modalElement) {\n      return;\n    }\n    // need to see how jQuery shims document.on('focusin') so we don't need the\n    // setTimeout, firefox doesn't support focusin, if it did, we could focus\n    // the element outside of a setTimeout. Side-effect of this implementation\n    // is that the document.body gets focus, and then we focus our element right\n    // after, seems fine.\n    setTimeout(function () {\n      if (modalElement.contains(document.activeElement)) {\n        return;\n      }\n      var el = (0, _tabbable2.default)(modalElement)[0] || modalElement;\n      el.focus();\n    }, 0);\n  }\n}\n\nfunction markForFocusLater() {\n  focusLaterElements.push(document.activeElement);\n}\n\n/* eslint-disable no-console */\nfunction returnFocus() {\n  var preventScroll = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n  var toFocus = null;\n  try {\n    if (focusLaterElements.length !== 0) {\n      toFocus = focusLaterElements.pop();\n      toFocus.focus({ preventScroll: preventScroll });\n    }\n    return;\n  } catch (e) {\n    console.warn([\"You tried to return focus to\", toFocus, \"but it is not in the DOM anymore\"].join(\" \"));\n  }\n}\n/* eslint-enable no-console */\n\nfunction popWithoutFocus() {\n  focusLaterElements.length > 0 && focusLaterElements.pop();\n}\n\nfunction setupScopedFocus(element) {\n  modalElement = element;\n\n  if (window.addEventListener) {\n    window.addEventListener(\"blur\", handleBlur, false);\n    document.addEventListener(\"focus\", handleFocus, true);\n  } else {\n    window.attachEvent(\"onBlur\", handleBlur);\n    document.attachEvent(\"onFocus\", handleFocus);\n  }\n}\n\nfunction teardownScopedFocus() {\n  modalElement = null;\n\n  if (window.addEventListener) {\n    window.removeEventListener(\"blur\", handleBlur);\n    document.removeEventListener(\"focus\", handleFocus);\n  } else {\n    window.detachEvent(\"onBlur\", handleBlur);\n    document.detachEvent(\"onFocus\", handleFocus);\n  }\n}"],"mappings":"AAAA,YAAY;;AAEZA,MAAM,CAACC,cAAc,CAACC,OAAO,EAAE,YAAY,EAAE;EAC3CC,KAAK,EAAE;AACT,CAAC,CAAC;AACFD,OAAO,CAACE,UAAU,GAAGA,UAAU;AAC/BF,OAAO,CAACG,WAAW,GAAGA,WAAW;AACjCH,OAAO,CAACI,iBAAiB,GAAGA,iBAAiB;AAC7CJ,OAAO,CAACK,WAAW,GAAGA,WAAW;AACjCL,OAAO,CAACM,eAAe,GAAGA,eAAe;AACzCN,OAAO,CAACO,gBAAgB,GAAGA,gBAAgB;AAC3CP,OAAO,CAACQ,mBAAmB,GAAGA,mBAAmB;AAEjD,IAAIC,SAAS,GAAGC,OAAO,CAAC,qBAAqB,CAAC;AAE9C,IAAIC,UAAU,GAAGC,sBAAsB,CAACH,SAAS,CAAC;AAElD,SAASG,sBAAsBA,CAACC,GAAG,EAAE;EAAE,OAAOA,GAAG,IAAIA,GAAG,CAACC,UAAU,GAAGD,GAAG,GAAG;IAAEE,OAAO,EAAEF;EAAI,CAAC;AAAE;AAE9F,IAAIG,kBAAkB,GAAG,EAAE;AAC3B,IAAIC,YAAY,GAAG,IAAI;AACvB,IAAIC,WAAW,GAAG,KAAK;AAEvB,SAAShB,UAAUA,CAAA,EAAG;EACpBgB,WAAW,GAAG,IAAI;AACpB;AAEA,SAASf,WAAWA,CAAA,EAAG;EACrB,IAAIe,WAAW,EAAE;IACfA,WAAW,GAAG,KAAK;IACnB,IAAI,CAACD,YAAY,EAAE;MACjB;IACF;IACA;IACA;IACA;IACA;IACA;IACAE,UAAU,CAAC,YAAY;MACrB,IAAIF,YAAY,CAACG,QAAQ,CAACC,QAAQ,CAACC,aAAa,CAAC,EAAE;QACjD;MACF;MACA,IAAIC,EAAE,GAAG,CAAC,CAAC,EAAEZ,UAAU,CAACI,OAAO,EAAEE,YAAY,CAAC,CAAC,CAAC,CAAC,IAAIA,YAAY;MACjEM,EAAE,CAACC,KAAK,EAAE;IACZ,CAAC,EAAE,CAAC,CAAC;EACP;AACF;AAEA,SAASpB,iBAAiBA,CAAA,EAAG;EAC3BY,kBAAkB,CAACS,IAAI,CAACJ,QAAQ,CAACC,aAAa,CAAC;AACjD;;AAEA;AACA,SAASjB,WAAWA,CAAA,EAAG;EACrB,IAAIqB,aAAa,GAAGC,SAAS,CAACC,MAAM,GAAG,CAAC,IAAID,SAAS,CAAC,CAAC,CAAC,KAAKE,SAAS,GAAGF,SAAS,CAAC,CAAC,CAAC,GAAG,KAAK;EAE7F,IAAIG,OAAO,GAAG,IAAI;EAClB,IAAI;IACF,IAAId,kBAAkB,CAACY,MAAM,KAAK,CAAC,EAAE;MACnCE,OAAO,GAAGd,kBAAkB,CAACe,GAAG,EAAE;MAClCD,OAAO,CAACN,KAAK,CAAC;QAAEE,aAAa,EAAEA;MAAc,CAAC,CAAC;IACjD;IACA;EACF,CAAC,CAAC,OAAOM,CAAC,EAAE;IACVC,OAAO,CAACC,IAAI,CAAC,CAAC,8BAA8B,EAAEJ,OAAO,EAAE,kCAAkC,CAAC,CAACK,IAAI,CAAC,GAAG,CAAC,CAAC;EACvG;AACF;AACA;;AAEA,SAAS7B,eAAeA,CAAA,EAAG;EACzBU,kBAAkB,CAACY,MAAM,GAAG,CAAC,IAAIZ,kBAAkB,CAACe,GAAG,EAAE;AAC3D;AAEA,SAASxB,gBAAgBA,CAAC6B,OAAO,EAAE;EACjCnB,YAAY,GAAGmB,OAAO;EAEtB,IAAIC,MAAM,CAACC,gBAAgB,EAAE;IAC3BD,MAAM,CAACC,gBAAgB,CAAC,MAAM,EAAEpC,UAAU,EAAE,KAAK,CAAC;IAClDmB,QAAQ,CAACiB,gBAAgB,CAAC,OAAO,EAAEnC,WAAW,EAAE,IAAI,CAAC;EACvD,CAAC,MAAM;IACLkC,MAAM,CAACE,WAAW,CAAC,QAAQ,EAAErC,UAAU,CAAC;IACxCmB,QAAQ,CAACkB,WAAW,CAAC,SAAS,EAAEpC,WAAW,CAAC;EAC9C;AACF;AAEA,SAASK,mBAAmBA,CAAA,EAAG;EAC7BS,YAAY,GAAG,IAAI;EAEnB,IAAIoB,MAAM,CAACC,gBAAgB,EAAE;IAC3BD,MAAM,CAACG,mBAAmB,CAAC,MAAM,EAAEtC,UAAU,CAAC;IAC9CmB,QAAQ,CAACmB,mBAAmB,CAAC,OAAO,EAAErC,WAAW,CAAC;EACpD,CAAC,MAAM;IACLkC,MAAM,CAACI,WAAW,CAAC,QAAQ,EAAEvC,UAAU,CAAC;IACxCmB,QAAQ,CAACoB,WAAW,CAAC,SAAS,EAAEtC,WAAW,CAAC;EAC9C;AACF"},"metadata":{},"sourceType":"script","externalDependencies":[]}